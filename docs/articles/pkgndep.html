<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Check the Heaviness of Package Dependencies • pkgndep</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Check the Heaviness of Package Dependencies">
<meta property="og:description" content="pkgndep">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pkgndep</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/pkgndep.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/co_heaviness.html">Co-heaviness of two parent packages</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/pkgndep/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Check the Heaviness of Package Dependencies</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jokergoo/pkgndep/blob/HEAD/vignettes/pkgndep.Rmd" class="external-link"><code>vignettes/pkgndep.Rmd</code></a></small>
      <div class="hidden name"><code>pkgndep.Rmd</code></div>

    </div>

    
    
<p>When developing R packages, we should try to avoid directly setting dependencies on “heavy packages”. The “heaviness” for a package means, the number of additional dependency packages it brings to. If your package directly depends on a heavy package, it would bring several consequences:</p>
<ol style="list-style-type: decimal">
<li>Users need to install a lot of additional packages when installing your package which brings the risk that installation of some packages may fail and it makes your package cannot be installed.</li>
<li>The namespaces that are loaded into your R session after loading your package will be huge (you can see the loaded namespaces by <code><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo()</a></code>).</li>
<li>You package will be “heavy” as well and it may take long time to load your package.</li>
</ol>
<p>In the DESCRIPTION file of your package, there are “direct dependency pakcages” listed in the <code>Depends</code>, <code>Imports</code> and <code>LinkingTo</code> fields. There are also “indirect dependency packages” that can be found recursively for each of the direct dependency packages. Here what we called “dependency packages” are the union of the direct and indirect dependency packages.</p>
<p>There are also packages listed in <code>Suggests</code> and <code>Enhances</code> fields in DESCRIPTION file, but they are not enforced to be installed when installing your package. Of course, they also have “indirect dependency packages”. To get rid of the heavy packages that are not often used in your package, it is better to move them into the <code>Suggests</code>/<code>Enhances</code> fields and to load/install them only when they are needed.</p>
<p>Here the <strong>pkgndep</strong> package checks the heaviness of the dependency packages of your package. For each package listed in the <code>Depends</code>, <code>Imports</code>, <code>LinkingTo</code> and <code>Suggests</code>/<code>Enhances</code> fields in the DESCRIPTION file, <strong>pkgndep</strong> checks how many additional packages your package requires. The summary of the dependency is visualized by a customized heatmap.</p>
<p>As an example, I am developing a package called <a href="https://github.com/jokergoo/cola/" class="external-link"><strong>cola</strong></a> which depends on <a href="https://github.com/jokergoo/ComplexHeatmap/blob/master/DESCRIPTION" class="external-link">a lot of other packages</a>. The dependency heatmap looks like follows (please drag the figure to a new tab to see it in its actual size):</p>
<p><img src="pkgndep_files/figure-html/unnamed-chunk-3-1.png" width="1000px"></p>
<p>In the heatmap, rows are the packages listed in <code>Depends</code>, <code>Imports</code> and <code>Suggests</code> fields, columns are the additional dependency packages required for each row package. The barplots on the right show the number of required package, the number of imported functions/methods/classes (parsed from NAMESPACE file) and the quantitative measure “heaviness” (the definition of heaviness will be introduced later).</p>
<p>We can see if all the packages are put in the <code>Depends</code> or <code>Imports</code> field (i.e. movig all suggsted packages to <code>Imports</code>), in total 248 packages are required, which are really a lot. Actually some of the heavy packages such as <strong>WGCNA</strong>, <strong>clusterProfiler</strong> and <strong>ReactomePA</strong> (the last three packages in the heatmap rows) are not very frequently used in <strong>cola</strong>, moving them to <code>Suggests</code> field and using them only when they are needed greatly helps to reduce the dependencies of <strong>cola</strong>. Now the number of required packages are reduced to only 64.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>To use this package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jokergoo/pkgndep" class="external-link">pkgndep</a></span><span class="op">)</span>
<span class="va">pkg</span> <span class="op">=</span> <span class="fu"><a href="../reference/pkgndep.html">pkgndep</a></span><span class="op">(</span><span class="st">"package-name"</span><span class="op">)</span>  <span class="co"># if the package is already installed</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pkg</span> <span class="op">=</span> <span class="fu"><a href="../reference/pkgndep.html">pkgndep</a></span><span class="op">(</span><span class="st">"path-of-the-package"</span><span class="op">)</span>  <span class="co"># if the package has not been installed yet</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></code></pre></div>
<p>The value for <code><a href="../reference/pkgndep.html">pkgndep()</a></code> should be 1. a CRAN/Bioconductor package, 2. an installed package, 3. a path of a local package, 4. URL of a GitHub repository.</p>
<p>Executable examples:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jokergoo/pkgndep" class="external-link">pkgndep</a></span><span class="op">)</span>
<span class="va">pkg</span> <span class="op">=</span> <span class="fu"><a href="../reference/pkgndep.html">pkgndep</a></span><span class="op">(</span><span class="st">"ComplexHeatmap"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## retrieve package database from CRAN/Bioconductor...</span>
<span class="co">##   - 21475 remote packages on CRAN/Bioconductor.</span>
<span class="co">##   - 822 packages installed locally.</span>
<span class="co">## prepare dependency table...</span>
<span class="co">## prepare reverse dependency table...</span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pkg</span></code></pre></div>
<pre><code><span class="co">## ComplexHeatmap, version 2.11.1</span>
<span class="co">## - 30 additional packages are required for installing 'ComplexHeatmap'.</span>
<span class="co">## - 118 additional packages are required if installing packages listed</span>
<span class="co">##   in all fields in DESCRIPTION.</span></code></pre>
<p><code><a href="../reference/pkgndep.html">pkgndep()</a></code> first needs to retrieve package databases both from remote repositories and local libraries, as you can see the message from above code. This only happens once and the database is internally saved and re-used.</p>
<p>We can directly use <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function to create the dependency heatmap:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></code></pre></div>
<p><img src="pkgndep_files/figure-html/unnamed-chunk-6-1.png" width="1000px"></p>
<p>You can set the <code>file</code> argument to directly save the image into a figure where the figure size is automatically calculated. Supported image formats are <code>png</code>/<code>jpg</code>/<code>svg</code>/<code>pdf</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pkg</span>, file <span class="op">=</span> <span class="st">"test.png"</span><span class="op">)</span></code></pre></div>
<p><code><a href="../reference/dependency_report.html">dependency_report()</a></code> function can generate an HTML report for the dependency analysis on the package.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dependency_report.html">dependency_report</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="heaviness">Heaviness<a class="anchor" aria-label="anchor" href="#heaviness"></a>
</h2>
<p>The heaviness of package dependency can be measured quantitatively. <strong>pkgndep</strong> provides two measures: the absolute measure and the relative measure.</p>
<p>The heaviness of a dependency package is calculated as follows. If package <em>B</em> is in the <code>Depends</code>/<code>Imports</code>/<code>LinkingTo</code> fields of package <em>A</em>, which means, package <em>B</em> is directly required for package <em>A</em>, denote <code>v1</code> as the total number of packages for package <em>A</em>, and denote <code>v2</code> as the total number of required packages if moving package <em>B</em> to <code>Suggests</code> in package <em>A</em> (which means, now <em>B</em> is not enforced to be installed for package <em>A</em>). The absolute measure of heaviness is simply <code>v1 - v2</code> and relative measure is <code>(v1 + a)/(v2 + a)</code> where <code>a</code> is a small constant, e.g. 10. So here the absolute heaviness for package <em>B</em> on package <em>A</em> is the number of additional packages that package <em>B</em> uniquely brings in.</p>
<p>In the second scenario, if package <em>B</em> is in the <code>Suggests</code>/<code>Enhances</code> fields of package <em>A</em>, now <code>v2</code> is the total number of required packages if moving package <em>B</em> to <code>Imports</code> in package <em>A</em>, the absolute measure of heaviness is <code>v2 - v1</code> and relative measure is <code>(v2 + a)/(v1 + a)</code>.</p>
<p>The heaviness score can be calculated by the function <code><a href="../reference/heaviness.html">heaviness()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/heaviness.html">heaviness</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##       grDevices        graphics            grid           stats         methods </span>
<span class="co">##               0               0               0               0               0 </span>
<span class="co">##    RColorBrewer             png     matrixStats          digest         foreach </span>
<span class="co">##               1               1               1               1               0 </span>
<span class="co">##      colorspace   GlobalOptions            clue      doParallel      GetoptLong </span>
<span class="co">##               0               0               2               4               3 </span>
<span class="co">##         IRanges        circlize        dendsort            jpeg            tiff </span>
<span class="co">##               4               2               1               1               1 </span>
<span class="co">##     fastcluster           Cairo    gridGraphics            glue        markdown </span>
<span class="co">##               1               1               1               1               3 </span>
<span class="co">##        grImport          gplots       grImport2           knitr   GenomicRanges </span>
<span class="co">##               2               5               4               9               7 </span>
<span class="co">##        pheatmap        gridtext       rmarkdown        testthat EnrichedHeatmap </span>
<span class="co">##              11              14              17              29              12 </span>
<span class="co">##      dendextend </span>
<span class="co">##              32</span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/heaviness.html">heaviness</a></span><span class="op">(</span><span class="va">pkg</span>, rel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##       grDevices        graphics            grid           stats         methods </span>
<span class="co">##        1.000000        1.000000        1.000000        1.000000        1.000000 </span>
<span class="co">##    RColorBrewer             png     matrixStats          digest         foreach </span>
<span class="co">##        1.025641        1.025641        1.025641        1.025641        1.000000 </span>
<span class="co">##      colorspace   GlobalOptions            clue      doParallel      GetoptLong </span>
<span class="co">##        1.000000        1.000000        1.052632        1.111111        1.081081 </span>
<span class="co">##         IRanges        circlize        dendsort            jpeg            tiff </span>
<span class="co">##        1.111111        1.052632        1.025000        1.025000        1.025000 </span>
<span class="co">##     fastcluster           Cairo    gridGraphics            glue        markdown </span>
<span class="co">##        1.025000        1.025000        1.025000        1.025000        1.075000 </span>
<span class="co">##        grImport          gplots       grImport2           knitr   GenomicRanges </span>
<span class="co">##        1.050000        1.125000        1.100000        1.225000        1.175000 </span>
<span class="co">##        pheatmap        gridtext       rmarkdown        testthat EnrichedHeatmap </span>
<span class="co">##        1.275000        1.350000        1.425000        1.725000        1.300000 </span>
<span class="co">##      dendextend </span>
<span class="co">##        1.800000</span></code></pre>
</div>
<div class="section level2">
<h2 id="check-the-availability-of-packages">Check the availability of packages<a class="anchor" aria-label="anchor" href="#check-the-availability-of-packages"></a>
</h2>
<p>We suggest to move heavy parent packages that are less used to <code>Suggests</code> and they are only loaded when the corresponding functions are called. Dependency packages listed in <code>Suggests</code> by default are not mandatory to be installed, thus, there will be errors when the functions are called but these dependency packages are not installed yet. <strong>pkgndep</strong> provides a function <code><a href="../reference/check_pkg.html">check_pkg()</a></code> that checks the availability of a package, and if the package has not been installed yet, <code><a href="../reference/check_pkg.html">check_pkg()</a></code> prints friendly messages to guide user to install it.</p>
<p>Assume <code>foo()</code> is a function that uses another function <code><a href="https://rdrr.io/r/grDevices/plotmath.html" class="external-link">bar()</a></code> from a heavy parent <strong>pkg</strong>, <code>foo()</code> can be written as:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">foo</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu"><a href="../reference/check_pkg.html">check_pkg</a></span><span class="op">(</span><span class="st">"pkg"</span>, <span class="va">...</span><span class="op">)</span>

    <span class="fu">pkg</span><span class="fu">::</span><span class="fu">bar</span><span class="op">(</span><span class="va">...</span><span class="op">)</span>
    <span class="va">...</span>
<span class="op">}</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-fast-version-of-toolspackage_dependencies">A fast version of <code>tools::package_dependencies()</code><a class="anchor" aria-label="anchor" href="#a-fast-version-of-toolspackage_dependencies"></a>
</h2>
<p>The package dependencies are based on “package database” which is normally retrieved by <code><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">available.packages()</a></code>. In <strong>tools</strong> package, there is a <code>package_dependencies()</code> function that can be used to get a list of dependency packages. In the following example code, we retrieve the dependency packages for package <strong>cola</strong>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">db</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">available.packages</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/repositories.html" class="external-link">repositories</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## 'getOption("repos")' replaces Bioconductor standard repositories, see</span>
<span class="co">## '?repositories' for details</span>
<span class="co">## </span>
<span class="co">## replacement repositories:</span>
<span class="co">##     CRAN: https://cloud.r-project.org</span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/package_dependencies.html" class="external-link">package_dependencies</a></span><span class="op">(</span><span class="st">"cola"</span>, db <span class="op">=</span> <span class="va">db</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##    user  system elapsed </span>
<span class="co">##   0.222   0.001   0.224</span></code></pre>
<p>In <strong>pkgndep</strong>, we implement a faster version of <code>package_dependencies()</code> function. First the database needs to be reformatted by <code><a href="../reference/reformat_db.html">reformat_db()</a></code> function. The returned variable <code>db2</code> is a reference class object and its method <code>db2$package_dependencies()</code> can be used to retrieve dependency packages.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">db2</span> <span class="op">=</span> <span class="fu"><a href="../reference/reformat_db.html">reformat_db</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## prepare dependency table...</span>
<span class="co">## prepare reverse dependency table...</span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">db2</span></code></pre></div>
<pre><code><span class="co">## A package database of 22261 packages.</span>
<span class="co">##   - 3417 Bioconductor / 18844 CRAN / 0 other packages.</span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">db2</span><span class="op">$</span><span class="fu">package_dependencies</span><span class="op">(</span><span class="st">"cola"</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##    user  system elapsed </span>
<span class="co">##   0.006   0.000   0.006</span></code></pre>
<p><code>p1</code> and <code>p2</code> are actually identical:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## R version 4.1.2 (2021-11-01)</span>
<span class="co">## Platform: x86_64-apple-darwin17.0 (64-bit)</span>
<span class="co">## Running under: macOS Big Sur 10.16</span>
<span class="co">## </span>
<span class="co">## Matrix products: default</span>
<span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib</span>
<span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib</span>
<span class="co">## </span>
<span class="co">## locale:</span>
<span class="co">## [1] C/UTF-8/C/C/C/C</span>
<span class="co">## </span>
<span class="co">## attached base packages:</span>
<span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">## </span>
<span class="co">## other attached packages:</span>
<span class="co">## [1] pkgndep_1.1.1</span>
<span class="co">## </span>
<span class="co">## loaded via a namespace (and not attached):</span>
<span class="co">##  [1] Rcpp_1.0.7            ComplexHeatmap_2.11.1 BiocManager_1.30.16  </span>
<span class="co">##  [4] highr_0.9             RColorBrewer_1.1-2    bslib_0.3.1          </span>
<span class="co">##  [7] compiler_4.1.2        jquerylib_0.1.4       iterators_1.0.13     </span>
<span class="co">## [10] tools_4.1.2           digest_0.6.29         clue_0.3-60          </span>
<span class="co">## [13] jsonlite_1.7.2        evaluate_0.14         memoise_2.0.1        </span>
<span class="co">## [16] png_0.1-7             rlang_0.4.12          foreach_1.5.1        </span>
<span class="co">## [19] magick_2.7.3          yaml_2.2.1            parallel_4.1.2       </span>
<span class="co">## [22] pkgdown_2.0.2         xfun_0.29             fastmap_1.1.0        </span>
<span class="co">## [25] cluster_2.1.2         stringr_1.4.0         knitr_1.37           </span>
<span class="co">## [28] S4Vectors_0.32.3      IRanges_2.28.0        desc_1.4.0           </span>
<span class="co">## [31] fs_1.5.2              sass_0.4.0            GlobalOptions_0.1.2  </span>
<span class="co">## [34] systemfonts_1.0.3     stats4_4.1.2          rprojroot_2.0.2      </span>
<span class="co">## [37] grid_4.1.2            R6_2.5.1              GetoptLong_1.0.5     </span>
<span class="co">## [40] textshaping_0.3.6     hash_2.2.6.1          rmarkdown_2.11       </span>
<span class="co">## [43] purrr_0.3.4           magrittr_2.0.1        BiocGenerics_0.40.0  </span>
<span class="co">## [46] codetools_0.2-18      htmltools_0.5.2       matrixStats_0.61.0   </span>
<span class="co">## [49] shape_1.4.6           colorspace_2.0-2      circlize_0.4.14      </span>
<span class="co">## [52] ragg_1.2.1            stringi_1.7.6         doParallel_1.0.16    </span>
<span class="co">## [55] cachem_1.0.6          crayon_1.4.2          rjson_0.2.21</span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
